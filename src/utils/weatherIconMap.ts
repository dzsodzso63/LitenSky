export type WeatherIconInfo = {
  iconFileName: string;
  cloudIntensity: number;
  isThunder: boolean;
};

const BASE_ICON_FILENAMES: Record<string, string> = {
  "10000": "10000_clear_large@2x.png",
  "10001": "10001_clear_large@2x.png",
  "10010": "10010_cloudy_large@2x.png",
  "11000": "11000_mostly_clear_large@2x.png",
  "11001": "11001_mostly_clear_large@2x.png",
  "11010": "11010_partly_cloudy_large@2x.png",
  "11011": "11011_partly_cloudy_large@2x.png",
  "11020": "11020_mostly_cloudy_large@2x.png",
  "11021": "11021_mostly_cloudy_large@2x.png",
  "11030": "11030_mostly_clear_large@2x.png",
  "11031": "11031_mostly_clear_large@2x.png",
  "20000": "20000_fog_large@2x.png",
  "21000": "21000_fog_light_large@2x.png",
  "21010": "21010_fog_light_mostly_clear_large@2x.png",
  "21011": "21011_fog_light_mostly_clear_large@2x.png",
  "21020": "21020_fog_light_partly_cloudy_large@2x.png",
  "21021": "21021_fog_light_partly_cloudy_large@2x.png",
  "21030": "21030_fog_light_mostly_cloudy_large@2x.png",
  "21031": "21031_fog_light_mostly_cloudy_large@2x.png",
  "21060": "21060_fog_mostly_clear_large@2x.png",
  "21061": "21061_fog_mostly_clear_large@2x.png",
  "21070": "21070_fog_partly_cloudy_large@2x.png",
  "21071": "21071_fog_partly_cloudy_large@2x.png",
  "21080": "21080_fog_mostly_cloudy_large@2x.png",
  "21081": "21081_fog_mostly_cloudy_large@2x.png",
  "40000": "40000_drizzle_large@2x.png",
  "40010": "40010_rain_large@2x.png",
  "42000": "42000_rain_light_large@2x.png",
  "42010": "42010_rain_heavy_large@2x.png",
  "42020": "42020_rain_heavy_partly_cloudy_large@2x.png",
  "42021": "42021_rain_heavy_partly_cloudy_large@2x.png",
  "42030": "42030_drizzle_mostly_clear_large@2x.png",
  "42031": "42031_drizzle_mostly_clear_large@2x.png",
  "42040": "42040_drizzle_partly_cloudy_large@2x.png",
  "42041": "42041_drizzle_partly_cloudy_large@2x.png",
  "42050": "42050_drizzle_mostly_cloudy_large@2x.png",
  "42051": "42051_drizzle_mostly_cloudy_large@2x.png",
  "42080": "42080_rain_partly_cloudy_large@2x.png",
  "42081": "42081_rain_partly_cloudy_large@2x.png",
  "42090": "42090_rain_mostly_clear_large@2x.png",
  "42091": "42091_rain_mostly_clear_large@2x.png",
  "42100": "42100_rain_mostly_cloudy_large@2x.png",
  "42101": "42101_rain_mostly_cloudy_large@2x.png",
  "42110": "42110_rain_heavy_mostly_clear_large@2x.png",
  "42111": "42111_rain_heavy_mostly_clear_large@2x.png",
  "42120": "42120_rain_heavy_mostly_cloudy_large@2x.png",
  "42121": "42121_rain_heavy_mostly_cloudy_large@2x.png",
  "42130": "42130_rain_light_mostly_clear_large@2x.png",
  "42131": "42131_rain_light_mostly_clear_large@2x.png",
  "42140": "42140_rain_light_partly_cloudy_large@2x.png",
  "42141": "42141_rain_light_partly_cloudy_large@2x.png",
  "42150": "42150_rain_light_mostly_cloudy_large@2x.png",
  "42151": "42151_rain_light_mostly_cloudy_large@2x.png",
  "50000": "50000_snow_large@2x.png",
  "50010": "50010_flurries_large@2x.png",
  "51000": "51000_snow_light_large@2x.png",
  "51010": "51010_snow_heavy_large@2x.png",
  "51020": "51020_snow_light_mostly_clear_large@2x.png",
  "51021": "51021_snow_light_mostly_clear_large@2x.png",
  "51030": "51030_snow_light_partly_cloudy_large@2x.png",
  "51031": "51031_snow_light_partly_cloudy_large@2x.png",
  "51040": "51040_snow_light_mostly_cloudy_large@2x.png",
  "51041": "51041_snow_light_mostly_cloudy_large@2x.png",
  "51050": "51050_snow_mostly_clear_large@2x.png",
  "51051": "51051_snow_mostly_clear_large@2x.png",
  "51060": "51060_snow_partly_cloudy_large@2x.png",
  "51061": "51061_snow_partly_cloudy_large@2x.png",
  "51070": "51070_snow_mostly_cloudy_large@2x.png",
  "51071": "51071_snow_mostly_cloudy_large@2x.png",
  "51080": "51080_wintry_mix_large@2x.png",
  "51100": "51100_wintry_mix_large@2x.png",
  "51120": "51120_wintry_mix_large@2x.png",
  "51140": "51140_wintry_mix_large@2x.png",
  "51150": "51150_flurries_mostly_clear_large@2x.png",
  "51151": "51151_flurries_mostly_clear_large@2x.png",
  "51160": "51160_flurries_partly_cloudy_large@2x.png",
  "51161": "51161_flurries_partly_cloudy_large@2x.png",
  "51170": "51170_flurries_mostly_cloudy_large@2x.png",
  "51171": "51171_flurries_mostly_cloudy_large@2x.png",
  "51190": "51190_snow_heavy_mostly_clear_large@2x.png",
  "51191": "51191_snow_heavy_mostly_clear_large@2x.png",
  "51200": "51200_snow_heavy_partly_cloudy_large@2x.png",
  "51201": "51201_snow_heavy_partly_cloudy_large@2x.png",
  "51210": "51210_snow_heavy_mostly_cloudy_large@2x.png",
  "51211": "51211_snow_heavy_mostly_cloudy_large@2x.png",
  "51220": "51220_wintry_mix_large@2x.png",
  "60000": "60000_freezing_rain_drizzle_large@2x.png",
  "60010": "60010_freezing_rain_large@2x.png",
  "60020": "60020_freezing_rain_drizzle_partly_cloudy_large@2x.png",
  "60021": "60021_freezing_rain_drizzle_partly_cloudy_large@2x.png",
  "60030": "60030_freezing_rain_drizzle_mostly_clear_large@2x.png",
  "60031": "60031_freezing_rain_drizzle_mostly_clear_large@2x.png",
  "60040": "60040_freezing_rain_drizzle_mostly_cloudy_large@2x.png",
  "60041": "60041_freezing_rain_drizzle_mostly_cloudy_large@2x.png",
  "62000": "62000_freezing_rain_light_large@2x.png",
  "62010": "62010_freezing_rain_heavy_large@2x.png",
  "62020": "62020_freezing_rain_heavy_partly_cloudy_large@2x.png",
  "62021": "62021_freezing_rain_heavy_partly_cloudy_large@2x.png",
  "62030": "62030_freezing_rain_light_partly_cloudy_large@2x.png",
  "62031": "62031_freezing_rain_light_partly_cloudy_large@2x.png",
  "62040": "62040_wintry_mix_large@2x.png",
  "62050": "62050_freezing_rain_light_mostly_clear_large@2x.png",
  "62051": "62051_freezing_rain_light_mostly_clear_large@2x.png",
  "62060": "62060_wintry_mix_large@2x.png",
  "62070": "62070_freezing_rain_heavy_mostly_clear_large@2x.png",
  "62071": "62071_freezing_rain_heavy_mostly_clear_large@2x.png",
  "62080": "62080_freezing_rain_heavy_mostly_cloudy_large@2x.png",
  "62081": "62081_freezing_rain_heavy_mostly_cloudy_large@2x.png",
  "62090": "62090_freezing_rain_light_mostly_cloudy_large@2x.png",
  "62091": "62091_freezing_rain_light_mostly_cloudy_large@2x.png",
  "62120": "62120_wintry_mix_large@2x.png",
  "62130": "62130_freezing_rain_mostly_clear_large@2x.png",
  "62131": "62131_freezing_rain_mostly_clear_large@2x.png",
  "62140": "62140_freezing_rain_partly_cloudy_large@2x.png",
  "62141": "62141_freezing_rain_partly_cloudy_large@2x.png",
  "62150": "62150_freezing_rain_mostly_cloudy_large@2x.png",
  "62151": "62151_freezing_rain_mostly_cloudy_large@2x.png",
  "62200": "62200_wintry_mix_large@2x.png",
  "62220": "62220_wintry_mix_large@2x.png",
  "70000": "70000_ice_pellets_large@2x.png",
  "71010": "71010_ice_pellets_heavy_large@2x.png",
  "71020": "71020_ice_pellets_light_large@2x.png",
  "71030": "71030_wintry_mix_large@2x.png",
  "71050": "71050_wintry_mix_large@2x.png",
  "71060": "71060_wintry_mix_large@2x.png",
  "71070": "71070_ice_pellets_partly_cloudy_large@2x.png",
  "71071": "71071_ice_pellets_partly_cloudy_large@2x.png",
  "71080": "71080_ice_pellets_mostly_clear_large@2x.png",
  "71081": "71081_ice_pellets_mostly_clear_large@2x.png",
  "71090": "71090_ice_pellets_mostly_cloudy_large@2x.png",
  "71091": "71091_ice_pellets_mostly_cloudy_large@2x.png",
  "71100": "71100_ice_pellets_light_mostly_clear_large@2x.png",
  "71101": "71101_ice_pellets_light_mostly_clear_large@2x.png",
  "71110": "71110_ice_pellets_light_partly_cloudy_large@2x.png",
  "71111": "71111_ice_pellets_light_partly_cloudy_large@2x.png",
  "71120": "71120_ice_pellets_light_mostly_cloudy_large@2x.png",
  "71121": "71121_ice_pellets_light_mostly_cloudy_large@2x.png",
  "71130": "71130_ice_pellets_heavy_mostly_clear_large@2x.png",
  "71131": "71131_ice_pellets_heavy_mostly_clear_large@2x.png",
  "71140": "71140_ice_pellets_heavy_partly_cloudy_large@2x.png",
  "71141": "71141_ice_pellets_heavy_partly_cloudy_large@2x.png",
  "71150": "71150_wintry_mix_large@2x.png",
  "71160": "71160_ice_pellets_heavy_mostly_cloudy_large@2x.png",
  "71161": "71161_ice_pellets_heavy_mostly_cloudy_large@2x.png",
  "71170": "71170_wintry_mix_large@2x.png",
  "80000": "80000_tstorm_large@2x.png",
  "80010": "80010_tstorm_mostly_clear_large@2x.png",
  "80011": "80011_tstorm_mostly_clear_large@2x.png",
  "80020": "80020_tstorm_mostly_cloudy_large@2x.png",
  "80021": "80021_tstorm_mostly_cloudy_large@2x.png",
  "80030": "80030_tstorm_partly_cloudy_large@2x.png",
  "80031": "80031_tstorm_partly_cloudy_large@2x.png"
};

const deriveCloudIntensity = (fileName: string): number => {
  if (fileName.includes("mostly_cloudy")) return 0.75;
  if (fileName.includes("partly_cloudy")) return 0.55;
  if (fileName.includes("cloudy")) return 0.85;
  if (fileName.includes("mostly_clear")) return 0.25;
  if (fileName.includes("partly") && !fileName.includes("cloudy")) return 0.5;
  if (fileName.includes("fog")) return 0.7;
  if (fileName.includes("tstorm")) return fileName.includes("mostly_clear") ? 0.4 : fileName.includes("partly") ? 0.6 : 0.7;
  if (fileName.includes("clear")) return 0.05;
  return 0.6;
};

const deriveIsThunder = (fileName: string): boolean => /tstorm/i.test(fileName);

export const WEATHER_ICON_MAP: Record<string, WeatherIconInfo> = Object.fromEntries(
  Object.entries(BASE_ICON_FILENAMES).map(([code, iconFileName]) => [
    code,
    {
      iconFileName,
      cloudIntensity: deriveCloudIntensity(iconFileName),
      isThunder: deriveIsThunder(iconFileName),
    },
  ])
);